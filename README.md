# LNChat

LNChat 是一个基于 Web 的移动端风格 AI 聊天应用，采用 PWA 技术，提供流畅的原生 App 级体验。

## ✨ 核心特性

- **模块化架构**：使用 ES Modules 进行重构，代码逻辑清晰，易于扩展和维护。
- **海量存储 (IndexedDB)**：全面采用 IndexedDB 替代传统的 localStorage，支持存储大量的聊天记录、图片 and 数据，不再受 5MB 容量限制。
- **AI 智能对话**：
  - 支持 OpenAI 兼容格式的 API 调用。
  - **消息队列机制**：支持多消息合并发送，提供更自然的对话体验。
  - **上下文理解**：支持配置历史消息条数，让 AI 更好地理解对话背景。
- **联系人管理**：支持创建多个 AI 角色，可自定义人设、头像 and 模型参数（如 Temperature）。
- **个性化体验**：
  - **动态壁纸**：集成 Bing 每日壁纸。
  - **日记本**：记录心情与生活点滴。
- **数据自主**：支持完整的数据导出备份与导入恢复。
- **PWA 支持**：可安装至手机主屏幕，像原生应用一样运行。

## 📁 项目结构

```text
/
├── index.html           # 应用入口
├── manifest.json        # PWA 配置文件
├── css/
│   └── styles.css       # 核心视觉样式
└── js/
    ├── main.js          # 系统内核，处理 App 加载与系统功能
    ├── db.js            # 基于 Promise 的 IndexedDB 数据库封装
    ├── utils.js         # 通用工具函数库
    └── apps/            # 独立 App 模块目录
        ├── chat.js      # 聊天功能逻辑
        ├── contacts.js  # 联系人管理逻辑
        ├── diary.js     # 日记功能逻辑
        ├── settings.js  # 设置与数据备份逻辑
        └── placeholder.js # 占位模块
```

## 🚀 快速开始

### 本地预览
由于项目使用了 **ES Modules**，直接双击 `index.html` 打开会触发浏览器的跨域限制。

**推荐方式：**
1.  在 VS Code 中安装 **Live Server** 插件。
2.  右键点击 `index.html`，选择 **"Open with Live Server"**。

### 在线部署
您可以直接将本项目上传至 GitHub Pages、Netlify 或 Vercel。本项目已针对生产环境路径进行了优化，无需额外配置即可上线。

## 🛠️ 如何配置 AI？
1.  打开 LNChat，点击主页的 **“设置”** 图标。
2.  输入您的 **API URL**（如 SiliconFlow 或 OpenAI 兼容接口）。
3.  输入您的 **API Key**。
4.  指定 **模型名称**（如 `deepseek-ai/DeepSeek-V3`）。
5.  点击“保存”，即可开始与您的 AI 联系人聊天。

## ⚖️ 许可证

本项目采用 **[知识共享 署名-非商业性使用-相同方式共享 4.0 国际许可协议 (CC BY-NC-SA 4.0)](LICENSE)** 进行许可。

### 详细说明
为了保护项目的初衷，作者对本项目的使用有以下明确要求：
1.  **署名 (Attribution)**：您必须给出适当的署名，提供本许可协议的链接，同时标明是否对本作品作了修改。
2.  **非商业性使用 (Non-Commercial)**：您**不得**将本作品及其源代码用于任何商业目的（如直接转卖、付费分发、作为收费服务的核心组件等）。
3.  **相同方式共享 (Share-Alike)**：如果您再混合、转换本作品，或者基于本作品进行创作，您必须基于**与原先许可协议相同的许可协议**分发您贡献的作品。
4.  **衍生物商用许可（例外说明）**：本项目**允许**用户对基于本项目产生的**内容衍生物**（例如：角色人设卡、提示词预设、聊天记录导出的艺术加工等）进行商业化行为（如售卖人设卡），这部分权利归属于内容创作者。

> **注意**：本协议并非传统的“开源协议”（Open Source），而是一种“源码可用”（Source Available）协议，旨在保护作者不被他人利用作品进行不当牟利。
